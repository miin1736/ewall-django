# E-wall ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

**E-wall í”Œë«í¼ ê¸°ìˆ  ì•„í‚¤í…ì²˜ ë° ì‹œìŠ¤í…œ ì„¤ê³„**

## ğŸ“‹ ëª©ì°¨

1. [ì‹œìŠ¤í…œ ê°œìš”](#ì‹œìŠ¤í…œ-ê°œìš”)
2. [ì „ì²´ ì•„í‚¤í…ì²˜](#ì „ì²´-ì•„í‚¤í…ì²˜)
3. [ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ](#ë°ì´í„°ë² ì´ìŠ¤-ìŠ¤í‚¤ë§ˆ)
4. [AI/ML íŒŒì´í”„ë¼ì¸](#aiml-íŒŒì´í”„ë¼ì¸)
5. [API ê³„ì¸µ](#api-ê³„ì¸µ)
6. [ë¹„ë™ê¸° ì‘ì—… ì²˜ë¦¬](#ë¹„ë™ê¸°-ì‘ì—…-ì²˜ë¦¬)
7. [ìºì‹± ì „ëµ](#ìºì‹±-ì „ëµ)
8. [ë³´ì•ˆ ê³ ë ¤ì‚¬í•­](#ë³´ì•ˆ-ê³ ë ¤ì‚¬í•­)

---

## ì‹œìŠ¤í…œ ê°œìš”

E-wallì€ **ì•„ì›ƒë„ì–´ ì´ì›” ìƒí’ˆ ê²€ìƒ‰ ë° ì¶”ì²œ í”Œë«í¼**ìœ¼ë¡œ, ë‹¤ìŒê³¼ ê°™ì€ í•µì‹¬ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤:

### í•µì‹¬ ê¸°ëŠ¥
- ğŸ” **ìƒí’ˆ ê²€ìƒ‰ ë° í•„í„°ë§**: ë¸Œëœë“œ, ì¹´í…Œê³ ë¦¬, ê°€ê²©, í• ì¸ìœ¨ ê¸°ë°˜
- ğŸ¤– **AI ìë™ ë¶„ë¥˜**: ResNet50 ì´ë¯¸ì§€ ì„ë² ë”© ê¸°ë°˜ ì¹´í…Œê³ ë¦¬ ìë™ ë¶„ë¥˜
- ğŸ¯ **ìœ ì‚¬ ìƒí’ˆ ì¶”ì²œ**: FAISS ë²¡í„° ê²€ìƒ‰ìœ¼ë¡œ ìŠ¤íƒ€ì¼ ê¸°ë°˜ ì¶”ì²œ
- ğŸ”” **ê°€ê²© ì•Œë¦¼**: ì¡°ê±´ë¶€ ê°€ê²© ì•Œë¦¼ ì‹œìŠ¤í…œ
- ğŸ“Š **ë°ì´í„° ìˆ˜ì§‘**: ë„¤ì´ë²„ ì‡¼í•‘ API í†µí•©
- ğŸ“ˆ **ë¶„ì„**: í´ë¦­ íŠ¸ë˜í‚¹ ë° í†µê³„

### ê¸°ìˆ  ì² í•™
- **ëª¨ë“ˆí™”**: Django Apps ê¸°ë°˜ ëª…í™•í•œ ì±…ì„ ë¶„ë¦¬
- **í™•ì¥ì„±**: Celery ê¸°ë°˜ ë¹„ë™ê¸° ì‘ì—…, Redis ìºì‹±
- **AI í†µí•©**: PyTorch + FAISS ê¸°ë°˜ ML íŒŒì´í”„ë¼ì¸
- **ê°œë°œ íš¨ìœ¨**: Swagger/OpenAPI ìë™ ë¬¸ì„œí™”

---

## ì „ì²´ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        í´ë¼ì´ì–¸íŠ¸ ê³„ì¸µ                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ Web UI   â”‚  â”‚ Mobile   â”‚  â”‚  API     â”‚  â”‚ Admin    â”‚        â”‚
â”‚  â”‚ (HTML/JS)â”‚  â”‚  App     â”‚  â”‚ Clients  â”‚  â”‚ Panel    â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜        â”‚
â”‚        â”‚             â”‚             â”‚             â”‚               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚             â”‚             â”‚             â”‚
         â–¼             â–¼             â–¼             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ì›¹ ì„œë²„ ê³„ì¸µ                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                 Nginx (Reverse Proxy)                     â”‚  â”‚
â”‚  â”‚  - SSL Termination                                        â”‚  â”‚
â”‚  â”‚  - Static Files                                           â”‚  â”‚
â”‚  â”‚  - Load Balancing                                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ì• í”Œë¦¬ì¼€ì´ì…˜ ê³„ì¸µ                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚          Django 5.0 + DRF 3.14 (Gunicorn)                â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚  Apps:                                                    â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚
â”‚  â”‚  â”‚ core       â”‚  â”‚ products   â”‚  â”‚ recommendations     â”‚â”‚  â”‚
â”‚  â”‚  â”‚ - Brand    â”‚  â”‚ - Generic  â”‚  â”‚ - ImageEmbedding    â”‚â”‚  â”‚
â”‚  â”‚  â”‚ - Category â”‚  â”‚ - Category â”‚  â”‚ - AI Models         â”‚â”‚  â”‚
â”‚  â”‚  â”‚            â”‚  â”‚   Specific â”‚  â”‚ - FAISS Index       â”‚â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚
â”‚  â”‚  â”‚ alerts     â”‚  â”‚ analytics  â”‚  â”‚ frontend            â”‚â”‚  â”‚
â”‚  â”‚  â”‚ - Price    â”‚  â”‚ - Clicks   â”‚  â”‚ - Templates         â”‚â”‚  â”‚
â”‚  â”‚  â”‚   Alert    â”‚  â”‚ - Stats    â”‚  â”‚ - Views             â”‚â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚               â”‚               â”‚
         â–¼               â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Database   â”‚  â”‚   Cache      â”‚  â”‚  Task Queue  â”‚
â”‚  Layer      â”‚  â”‚   Layer      â”‚  â”‚   Layer      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PostgreSQL  â”‚  â”‚  Redis       â”‚  â”‚  Celery      â”‚
â”‚ (SQLite Dev)â”‚  â”‚  - Session   â”‚  â”‚  + Beat      â”‚
â”‚             â”‚  â”‚  - Cache     â”‚  â”‚              â”‚
â”‚ - Products  â”‚  â”‚  - Embed     â”‚  â”‚  Workers:    â”‚
â”‚ - Users     â”‚  â”‚    Cache     â”‚  â”‚  - Crawling  â”‚
â”‚ - Analytics â”‚  â”‚              â”‚  â”‚  - Alerts    â”‚
â”‚ - AI Data   â”‚  â”‚              â”‚  â”‚  - Email     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      AI/ML ê³„ì¸µ                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  PyTorch Ecosystem                                        â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚
â”‚  â”‚  â”‚ ResNet50   â”‚  â”‚ FAISS      â”‚  â”‚ Category Classifier â”‚â”‚  â”‚
â”‚  â”‚  â”‚ (Pretrain) â”‚  â”‚ Vector DB  â”‚  â”‚ (Hybrid)            â”‚â”‚  â”‚
â”‚  â”‚  â”‚            â”‚  â”‚            â”‚  â”‚                     â”‚â”‚  â”‚
â”‚  â”‚  â”‚ 2048-dim   â”‚  â”‚ 422 vectorsâ”‚  â”‚ AI: 80% accuracy    â”‚â”‚  â”‚
â”‚  â”‚  â”‚ Embedding  â”‚  â”‚ IndexFlatL2â”‚  â”‚ Keyword Fallback    â”‚â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ì™¸ë¶€ ì„œë¹„ìŠ¤ ê³„ì¸µ                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ ë„¤ì´ë²„     â”‚  â”‚ ì¿ íŒ¡       â”‚  â”‚ Email Service       â”‚      â”‚
â”‚  â”‚ Shopping   â”‚  â”‚ Partners   â”‚  â”‚ (SMTP)              â”‚      â”‚
â”‚  â”‚ API        â”‚  â”‚ API        â”‚  â”‚                     â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### ERD (Entity Relationship Diagram)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Brand        â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ PK id           â”‚
â”‚    name         â”‚
â”‚    slug         â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”
â”‚    description  â”‚        â”‚
â”‚    website      â”‚        â”‚
â”‚    is_premium   â”‚        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
                           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚   Category      â”‚        â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚        â”‚
â”‚ PK id           â”‚â—„â”€â”€â”€â”   â”‚
â”‚    name         â”‚    â”‚   â”‚
â”‚    slug         â”‚    â”‚   â”‚
â”‚    category_typeâ”‚    â”‚   â”‚
â”‚    description  â”‚    â”‚   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
                       â”‚   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      GenericProduct                   â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ PK id (varchar, ë„¤ì´ë²„ product_id)   â”‚
â”‚ FK brand_id          â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ FK category_id       â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚    title                      â”‚
â”‚    slug                       â”‚
â”‚    image_url                  â”‚
â”‚    price                      â”‚
â”‚    original_price             â”‚
â”‚    discount_rate              â”‚
â”‚    currency                   â”‚
â”‚    seller                     â”‚
â”‚    deeplink                   â”‚
â”‚    in_stock                   â”‚
â”‚    score                      â”‚
â”‚    source                     â”‚
â”‚    material_composition       â”‚
â”‚    fit                        â”‚
â”‚    shell                      â”‚
â”‚    created_at                 â”‚
â”‚    updated_at                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â”‚ 1:N
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ImageEmbedding            â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ PK id                       â”‚
â”‚ FK product_id               â”‚
â”‚    image_url                â”‚
â”‚    embedding_vector (JSON)  â”‚  â—„â”€â”€â”€ 2048-dim Float Array
â”‚    model_version            â”‚       (ResNet50)
â”‚    created_at               â”‚
â”‚    updated_at               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â”‚ Used by
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   FAISS Index (File-based)          â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ data/faiss/image_index.faiss        â”‚  â—„â”€â”€â”€ 422 vectors
â”‚ data/faiss/product_mapping.pkl      â”‚       L2 Distance
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   PriceAlert                â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ PK id                       â”‚
â”‚    email                    â”‚
â”‚ FK brand_id                 â”‚
â”‚ FK category_id              â”‚
â”‚    conditions (JSON)        â”‚  â—„â”€â”€â”€ {priceBelow, discountAtLeast}
â”‚    is_active                â”‚
â”‚    created_at               â”‚
â”‚    last_checked             â”‚
â”‚    matched_count            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ClickTracking             â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ PK id                       â”‚
â”‚ FK product_id               â”‚
â”‚    user_agent               â”‚
â”‚    ip_address               â”‚
â”‚    referer                  â”‚
â”‚    sub_id (tracking_id)     â”‚
â”‚    clicked_at               â”‚
â”‚    session_id               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”‚ Aggregated to
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   DailyClickAggregate       â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ PK id                       â”‚
â”‚ FK product_id               â”‚
â”‚ FK brand_id                 â”‚
â”‚ FK category_id              â”‚
â”‚    date                     â”‚
â”‚    click_count              â”‚
â”‚    unique_users             â”‚
â”‚    conversion_rate          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì£¼ìš” í…Œì´ë¸” ì„¤ëª…

#### 1. GenericProduct (í†µí•© ìƒí’ˆ ëª¨ë¸)
```python
class GenericProduct(models.Model):
    """
    ëª¨ë“  ì¹´í…Œê³ ë¦¬ì˜ ìƒí’ˆì„ í†µí•© ê´€ë¦¬
    - ë„¤ì´ë²„ product_idë¥¼ PKë¡œ ì‚¬ìš©
    - ë¸Œëœë“œ, ì¹´í…Œê³ ë¦¬ FK
    - ê°€ê²©, í• ì¸ìœ¨, ì¬ê³  ì •ë³´
    - ì†Œì¬, í• ë“± ë©”íƒ€ë°ì´í„°
    """
    id = models.CharField(max_length=50, primary_key=True)  # ë„¤ì´ë²„ product_id
    brand = models.ForeignKey(Brand, on_delete=models.CASCADE)
    category = models.ForeignKey(Category, on_delete=models.CASCADE)
    # ... ê¸°íƒ€ í•„ë“œ
```

**íŠ¹ì§•:**
- âœ… ì´ì „: 7ê°œ ì¹´í…Œê³ ë¦¬ë³„ ëª¨ë¸ (DownProduct, CoatProduct ë“±)
- âœ… í˜„ì¬: ë‹¨ì¼ í†µí•© ëª¨ë¸ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ
- ğŸ“Š í˜„ì¬ ë°ì´í„°: 388ê°œ ì¬ê³  ìƒí’ˆ

#### 2. ImageEmbedding (ì´ë¯¸ì§€ ì„ë² ë”©)
```python
class ImageEmbedding(models.Model):
    """
    ResNet50 ì´ë¯¸ì§€ ë²¡í„° ì €ì¥
    - 2048ì°¨ì› ë²¡í„°ë¥¼ JSONìœ¼ë¡œ ì €ì¥
    - FAISS ì¸ë±ìŠ¤ì™€ ë™ê¸°í™”
    """
    product_id = models.CharField(max_length=50, db_index=True)
    embedding_vector = models.JSONField()  # List[float], 2048-dim
    model_version = models.CharField(max_length=50, default='resnet50')
```

**íŠ¹ì§•:**
- ğŸ“Š í˜„ì¬ ë°ì´í„°: 422ê°œ ì„ë² ë”© (108.8% ì»¤ë²„ë¦¬ì§€)
- ğŸ”„ FAISS ì¸ë±ìŠ¤ì™€ ë™ê¸°í™” í•„ìš” (`rebuild_faiss_index` ëª…ë ¹ì–´)

---

## AI/ML íŒŒì´í”„ë¼ì¸

### 1. ì´ë¯¸ì§€ ì„ë² ë”© ìƒì„± íŒŒì´í”„ë¼ì¸

```
ìƒí’ˆ ì´ë¯¸ì§€ URL
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ImageEmbeddingService
â”‚  1. ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ  â”‚
â”‚  2. ì „ì²˜ë¦¬           â”‚
â”‚     - Resize(224x224)â”‚
â”‚     - Normalize      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ResNet50 (PyTorch) â”‚
â”‚  - Pretrained       â”‚
â”‚    (ImageNet)       â”‚
â”‚  - FC layer ì œê±°    â”‚
â”‚  - 2048-dim output  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  L2 Normalization   â”‚
â”‚  - Unit vector      â”‚
â”‚  - Cosine similarityâ”‚
â”‚    ìµœì í™”           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ImageEmbedding Model (DB)  â”‚
â”‚  - product_id               â”‚
â”‚  - embedding_vector (2048)  â”‚
â”‚  - model_version: resnet50  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FAISS Index (File)         â”‚
â”‚  - IndexFlatL2              â”‚
â”‚  - 422 vectors              â”‚
â”‚  - product_mapping.pkl      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. ìœ ì‚¬ ìƒí’ˆ ê²€ìƒ‰ íŒŒì´í”„ë¼ì¸

```
ìƒí’ˆ ID ì…ë ¥
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. ì„ë² ë”© ì¡°íšŒ       â”‚
â”‚  - DBì—ì„œ ë²¡í„° ë¡œë“œ   â”‚
â”‚  - 2048-dim array    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. FAISS ê²€ìƒ‰       â”‚
â”‚  - K-NN (K=10)      â”‚
â”‚  - L2 Distance      â”‚
â”‚  - ìê¸° ìì‹  ì œì™¸    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. ìœ ì‚¬ë„ ê³„ì‚°      â”‚
â”‚  similarity =        â”‚
â”‚    1 / (1 + L2_dist) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. í•„í„°ë§           â”‚
â”‚  - min_similarity    â”‚
â”‚    (default: 0.5)    â”‚
â”‚  - ê°™ì€ ì¹´í…Œê³ ë¦¬ë§Œ   â”‚
â”‚  - ì¬ê³  ìˆëŠ” ìƒí’ˆë§Œ  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. ìƒí’ˆ ì •ë³´ ì¡°íšŒ   â”‚
â”‚  - GenericProduct    â”‚
â”‚  - ê°€ê²©, ë¸Œëœë“œ ë“±   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
    ìœ ì‚¬ ìƒí’ˆ ëª©ë¡
```

### 3. AI ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜ê¸° (CategoryClassifier)

**í•˜ì´ë¸Œë¦¬ë“œ ë°©ì‹**: AI ì„ë² ë”© â†’ í‚¤ì›Œë“œ í´ë°±

```python
def classify_product(product_id, title):
    """
    1ë‹¨ê³„: AI ì„ë² ë”© ê¸°ë°˜ ë¶„ë¥˜
    """
    # í•´ë‹¹ ìƒí’ˆì˜ ì„ë² ë”© ë²¡í„° ê°€ì ¸ì˜¤ê¸°
    target_embedding = get_embedding(product_id)
    
    # ê° ì¹´í…Œê³ ë¦¬ ëŒ€í‘œ ìƒí’ˆë“¤ê³¼ ìœ ì‚¬ë„ ê³„ì‚°
    for category in ['down', 'coat', 'jeans', ...]:
        ref_embeddings = get_category_embeddings(category, limit=10)
        similarities = compute_cosine_similarity(target_embedding, ref_embeddings)
        category_scores[category] = mean(similarities)
    
    # ìµœê³  ìœ ì‚¬ë„ê°€ ì„ê³„ê°’(0.35) ì´ìƒì´ë©´ í•´ë‹¹ ì¹´í…Œê³ ë¦¬ ë°˜í™˜
    best_category, best_score = max(category_scores.items())
    
    if best_score >= 0.35:
        return best_category  # âœ… AI ë¶„ë¥˜ ì„±ê³µ (80% ì •í™•ë„)
    
    """
    2ë‹¨ê³„: í‚¤ì›Œë“œ ê¸°ë°˜ í´ë°±
    """
    # AI ë¶„ë¥˜ ì‹¤íŒ¨ ì‹œ ìƒí’ˆëª… í‚¤ì›Œë“œ ë§¤ì¹­
    for keywords, category in keyword_rules:
        if any(kw in title.lower() for kw in keywords):
            return category  # âš ï¸ í‚¤ì›Œë“œ í´ë°±
    
    return 'generic'  # âŒ ë¶„ë¥˜ ì‹¤íŒ¨
```

**ì„±ëŠ¥ ì§€í‘œ:**
- âœ… AI ë¶„ë¥˜ ì„±ê³µë¥ : **80%** (ì„ê³„ê°’ 0.35)
- âš ï¸ ì´ì „ ì„±ê³µë¥ : 10% (ì„ê³„ê°’ 0.7 - ë„ˆë¬´ ì—„ê²©)
- ğŸ“Š í˜„ì¬ Generic ìƒí’ˆ: 220ê°œ (56.7%) â†’ ì¬ë¶„ë¥˜ í•„ìš”

---

## API ê³„ì¸µ

### API ë²„ì „ ê´€ë¦¬

```
/api/
  â”œâ”€â”€ products/              # ìƒí’ˆ API
  â”œâ”€â”€ recommendations/       # AI ì¶”ì²œ API
  â”œâ”€â”€ brands/               # ë¸Œëœë“œ API
  â”œâ”€â”€ categories/           # ì¹´í…Œê³ ë¦¬ API
  â”œâ”€â”€ alerts/               # ì•Œë¦¼ API
  â”œâ”€â”€ analytics/            # ë¶„ì„ API
  â”œâ”€â”€ search/               # ê²€ìƒ‰ API
  â””â”€â”€ schema/               # OpenAPI ìŠ¤í‚¤ë§ˆ
      â”œâ”€â”€ swagger-ui/       # Swagger UI
      â””â”€â”€ redoc/            # ReDoc UI
```

### DRF ì„¤ì •

```python
REST_FRAMEWORK = {
    'DEFAULT_PAGINATION_CLASS': 'rest_framework.pagination.PageNumberPagination',
    'PAGE_SIZE': 20,
    'DEFAULT_SCHEMA_CLASS': 'drf_spectacular.openapi.AutoSchema',
    'DEFAULT_RENDERER_CLASSES': [
        'rest_framework.renderers.JSONRenderer',
        'rest_framework.renderers.BrowsableAPIRenderer',
    ],
}
```

### Swagger/OpenAPI ë¬¸ì„œí™”

```python
SPECTACULAR_SETTINGS = {
    'TITLE': 'E-wall API',
    'DESCRIPTION': 'ì•„ì›ƒë„ì–´ ì´ì›” ìƒí’ˆ ê²€ìƒ‰ ë° ì¶”ì²œ í”Œë«í¼',
    'VERSION': '1.0.0',
    'SERVE_INCLUDE_SCHEMA': False,
}
```

---

## ë¹„ë™ê¸° ì‘ì—… ì²˜ë¦¬

### Celery ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Celery Beat (Scheduler)         â”‚
â”‚  - ì£¼ê¸°ì  íƒœìŠ¤í¬ ìŠ¤ì¼€ì¤„ë§               â”‚
â”‚  - crontab ê¸°ë°˜ ì‹¤í–‰                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Message Broker (Redis)         â”‚
â”‚  - íƒœìŠ¤í¬ í ê´€ë¦¬                       â”‚
â”‚  - ê²°ê³¼ ë°±ì—”ë“œ                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚        â”‚        â”‚        â”‚
      â–¼        â–¼        â–¼        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Worker 1 â”‚ â”‚Worker 2 â”‚ â”‚Worker 3 â”‚ â”‚Worker N â”‚
â”‚Crawling â”‚ â”‚ Alerts  â”‚ â”‚  Email  â”‚ â”‚  ...    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì£¼ìš” Celery íƒœìŠ¤í¬

#### 1. ë°ì´í„° ìˆ˜ì§‘ íƒœìŠ¤í¬

```python
@periodic_task(run_every=crontab(hour='*/4'))  # 4ì‹œê°„ë§ˆë‹¤
def sync_naver_outlet_products():
    """
    ë„¤ì´ë²„ ì‡¼í•‘ APIì—ì„œ ì´ì›”ìƒí’ˆ í¬ë¡¤ë§
    - ë¸Œëœë“œ x í‚¤ì›Œë“œ ì¡°í•© ê²€ìƒ‰
    - í• ì¸ìœ¨ 30% ì´ìƒ í•„í„°ë§
    - ì¤‘ë³µ ì œê±°
    - DB ì €ì¥ ë° ì„ë² ë”© ìƒì„±
    """
```

#### 2. ê°€ê²© ì•Œë¦¼ íƒœìŠ¤í¬

```python
@periodic_task(run_every=crontab(hour='*/1'))  # 1ì‹œê°„ë§ˆë‹¤
def check_price_alerts():
    """
    ê°€ê²© ì•Œë¦¼ ì¡°ê±´ ì²´í¬
    - í™œì„±í™”ëœ ì•Œë¦¼ ì¡°íšŒ
    - ì¡°ê±´ ë§¤ì¹­ ìƒí’ˆ ê²€ìƒ‰
    - ì´ë©”ì¼ íì— ì¶”ê°€
    """
```

#### 3. ì´ë©”ì¼ ë°œì†¡ íƒœìŠ¤í¬

```python
@periodic_task(run_every=crontab(minute='*/5'))  # 5ë¶„ë§ˆë‹¤
def send_queued_emails():
    """
    ëŒ€ê¸° ì¤‘ì¸ ì´ë©”ì¼ ë°œì†¡
    - EmailQueueì—ì„œ pending ìƒíƒœ ì¡°íšŒ
    - SMTP ë°œì†¡
    - ìƒíƒœ ì—…ë°ì´íŠ¸ (sent/failed)
    """
```

#### 4. ì¼ì¼ ì§‘ê³„ íƒœìŠ¤í¬

```python
@periodic_task(run_every=crontab(hour=2, minute=0))  # ë§¤ì¼ ì˜¤ì „ 2ì‹œ
def aggregate_daily_clicks():
    """
    í´ë¦­ ë°ì´í„° ì¼ì¼ ì§‘ê³„
    - ClickTracking â†’ DailyClickAggregate
    - ìƒí’ˆë³„, ë¸Œëœë“œë³„, ì¹´í…Œê³ ë¦¬ë³„ ì§‘ê³„
    - ì „í™˜ìœ¨ ê³„ì‚°
    """
```

---

## ìºì‹± ì „ëµ

### ìºì‹œ ê³„ì¸µ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Application Layer                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  View/API                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚               â”‚                           â”‚
â”‚               â–¼                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Cache Layer (Redis/LocMem)        â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚ Session  â”‚  â”‚ API Response â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  Cache   â”‚  â”‚    Cache     â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚Embedding â”‚  â”‚  Query       â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  Cache   â”‚  â”‚   Result     â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚               â”‚                           â”‚
â”‚               â–¼                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Database Layer                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ìºì‹œ ì „ëµ

#### 1. ìƒí’ˆ ì„ë² ë”© ìºì‹œ
```python
cache_key = f'product_embedding:{product_id}'
cache.set(cache_key, embedding_vector, timeout=3600)  # 1ì‹œê°„
```

#### 2. API ì‘ë‹µ ìºì‹œ
```python
@cache_page(60 * 15)  # 15ë¶„
def product_list(request, category_slug):
    # ...
```

#### 3. ì„¸ì…˜ ìºì‹œ
```python
CACHES = {
    'default': {
        'BACKEND': 'django_redis.cache.RedisCache',
        'LOCATION': 'redis://127.0.0.1:6379/1',
        'OPTIONS': {
            'CLIENT_CLASS': 'django_redis.client.DefaultClient',
        }
    }
}
```

---

## ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

### 1. API ë³´ì•ˆ

```python
# CORS ì„¤ì •
CORS_ALLOWED_ORIGINS = [
    "https://yourdomain.com",
]

# CSRF ë³´í˜¸
CSRF_COOKIE_SECURE = True
CSRF_COOKIE_HTTPONLY = True

# í–¥í›„ Token ì¸ì¦ ì˜ˆì •
REST_FRAMEWORK = {
    'DEFAULT_AUTHENTICATION_CLASSES': [
        # 'rest_framework.authentication.TokenAuthentication',
    ],
}
```

### 2. ë°ì´í„°ë² ì´ìŠ¤ ë³´ì•ˆ

```python
# í”„ë¡œë•ì…˜: PostgreSQL SSL
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.postgresql',
        'OPTIONS': {
            'sslmode': 'require',
        },
    }
}
```

### 3. í™˜ê²½ë³€ìˆ˜ ê´€ë¦¬

```bash
# .env.production
SECRET_KEY=<strong-random-key>
DEBUG=False
ALLOWED_HOSTS=yourdomain.com

# ë¯¼ê°í•œ API í‚¤
NAVER_CLIENT_SECRET=<secret>
EMAIL_HOST_PASSWORD=<password>
```

### 4. Rate Limiting (í–¥í›„ êµ¬í˜„)

```python
REST_FRAMEWORK = {
    'DEFAULT_THROTTLE_CLASSES': [
        'rest_framework.throttling.AnonRateThrottle',
        'rest_framework.throttling.UserRateThrottle'
    ],
    'DEFAULT_THROTTLE_RATES': {
        'anon': '100/hour',
        'user': '1000/hour'
    }
}
```

---

## ë°°í¬ ì•„í‚¤í…ì²˜

### Production í™˜ê²½

```
                  Internet
                      â”‚
                      â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   CloudFlare CDN â”‚
            â”‚   - DDoS ë³´í˜¸     â”‚
            â”‚   - SSL/TLS      â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  Nginx (80/443)  â”‚
            â”‚  - Reverse Proxy â”‚
            â”‚  - SSL Terminationâ”‚
            â”‚  - Static Files  â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚           â”‚           â”‚
         â–¼           â–¼           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Gunicorn 1  â”‚ â”‚ Gunicorn 2  â”‚ â”‚ Gunicorn N  â”‚
â”‚ Django App  â”‚ â”‚ Django App  â”‚ â”‚ Django App  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚               â”‚               â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚             â”‚             â”‚
         â–¼             â–¼             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PostgreSQL   â”‚ â”‚  Redis   â”‚ â”‚ Celery   â”‚
â”‚ (RDS/Managed)â”‚ â”‚ (Cache)  â”‚ â”‚ Workers  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Docker Compose ìŠ¤íƒ

```yaml
services:
  web:
    build: .
    command: gunicorn config.wsgi:application --bind 0.0.0.0:8000
    
  db:
    image: postgres:15
    
  redis:
    image: redis:7
    
  celery:
    build: .
    command: celery -A config worker
    
  celery-beat:
    build: .
    command: celery -A config beat
    
  nginx:
    image: nginx:latest
    ports:
      - "80:80"
      - "443:443"
```

---

## ëª¨ë‹ˆí„°ë§ & ë¡œê¹…

### ë¡œê·¸ êµ¬ì¡°

```
logs/
â”œâ”€â”€ django.log          # Django ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸
â”œâ”€â”€ celery.log          # Celery ì›Œì»¤ ë¡œê·¸
â”œâ”€â”€ gunicorn.access.log # ì›¹ ì„œë²„ ì ‘ê·¼ ë¡œê·¸
â””â”€â”€ gunicorn.error.log  # ì›¹ ì„œë²„ ì˜¤ë¥˜ ë¡œê·¸
```

### ë¡œê¹… ì„¤ì •

```python
LOGGING = {
    'version': 1,
    'disable_existing_loggers': False,
    'formatters': {
        'verbose': {
            'format': '[{levelname}] {asctime} {name} {message}',
            'style': '{',
        },
    },
    'handlers': {
        'file': {
            'level': 'INFO',
            'class': 'logging.handlers.RotatingFileHandler',
            'filename': 'logs/django.log',
            'maxBytes': 10485760,  # 10MB
            'backupCount': 5,
            'formatter': 'verbose',
        },
    },
    'root': {
        'handlers': ['file'],
        'level': 'INFO',
    },
}
```

---

## ì„±ëŠ¥ ìµœì í™”

### 1. ë°ì´í„°ë² ì´ìŠ¤ ìµœì í™”

- **ì¸ë±ìŠ¤**: product_id, brand_id, category_id, in_stock
- **ì¿¼ë¦¬ ìµœì í™”**: select_related(), prefetch_related()
- **í˜ì´ì§€ë„¤ì´ì…˜**: ê¸°ë³¸ 20ê°œ, ìµœëŒ€ 100ê°œ

### 2. FAISS ì¸ë±ìŠ¤ ìµœì í™”

- **IndexFlatL2**: ì •í™•í•œ L2 ê±°ë¦¬ (422ê°œ ë²¡í„°)
- **í–¥í›„**: IndexIVFFlat (ëŒ€ìš©ëŸ‰ ë°ì´í„° ì‹œ)

### 3. ì´ë¯¸ì§€ ì„ë² ë”© ìµœì í™”

- **ë°°ì¹˜ ì²˜ë¦¬**: 32ê°œì”© ë²¡í„° ìƒì„±
- **ìºì‹±**: 1ì‹œê°„ TTL
- **L2 ì •ê·œí™”**: ì½”ì‚¬ì¸ ìœ ì‚¬ë„ ìµœì í™”

---

## ì°¸ê³  ë¬¸ì„œ

- [API ë¬¸ì„œ](API_DOCUMENTATION.md)
- [ê¸°ìˆ  ìŠ¤íƒ](TECH_STACK.md)
- [AI ìƒíƒœ ë³´ê³ ì„œ](AI_STATUS_REPORT.md)
- [ë°°í¬ ê°€ì´ë“œ](deployment/CLOUD_MIGRATION.md)
